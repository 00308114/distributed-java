# 基础概念

## 分布式系统的概念

《分布式系统原理与范式》一书中是这样定义分布式系统的：“分布式系统是若干独立计算机的集合，这些计算机对于用户来说就像是单个相关系统”。这里面包含了2个含义

* 硬件独立：计算机机器本身是独立的
* 软件统一：对于用户来说，他们就像是跟单个系统打交道

分布式系统的扩展和升级都比较容易。分布式系统某些节点故障，不影响整理可用。用户不会和应用程序不会察觉哪些部分正在替换或者维修，也不会感知到新部分的加入。

万维网就是一个分布式文档模型的简单例子。要查看某个文档，用户只需要电机相关的链接即可，文档就会呈现在屏幕上。用户无需关心文档是位于哪个位置，是由什么服务器处理。概念上讲 Web 看起来就是一个单独的服务器。而实际上，Web 在物理上是分布到非常多的服务器上的。

## 如何设计分布式系统

所以设计分布式系统的本质就是“如何将一个系统拆分成多个子系统部署到不同机器上”。

分布式系统的设计应考虑以下几个问题：

* 系统如何拆分为子系统？
* 子系统间如何规划通信协议？

## 分布式计算的概念

把一个大计算任务拆分成多个小计算任务分布到若干台机器上去计算，然后再进行结果汇总。 

## 目的

* 可靠性：系统本身也不可能是完美的，随时可能会出错，为了避免故障，需要将业务分散开保留一定的冗余度，或者将系统部署到多台机器上提供相同的功能，这个也称为“集群”。
* 扩展性：系统负载高，单台机器无法承载，希望通过使用多台机器来提高系统的负载能力

## 注意点

* 系统如何拆分为子系统
* 子系统间如何规划通信协议
* 一致性
* 容错
* 安全

## 基础设施

* 缓存
* 异步
* 持久化存储
* 消息队列
* 搜索
* 集群
* 负载均衡：淘宝是LVS（Linux Virtual Server）、CDN节点、PV（Page View，页面访问量）、个UV（Unique Visitor，用户访问）
* 数据压缩
* 分析和挖掘

架构是一开始就能设计完美，需要不断优化

“火车模型”：一个功能没有测试通过，整个系统都不能发布。即任何一个乘客没有上车，都不许发车。

超市的运维的抽象

Memcache： 分布式缓存
Hadoop：离线分析

jetty tomcat

：“I hear and I forget. I see and I remember. I do and I understand”

荀子说的“不闻不若闻之，闻之不若见之，见之不若知之，知之不若行之。”